var Stats=function(){var B=Date.now(),A=B,G=0,z=1000,y=0,F=0,x=1000,w=0,v=0,u=0,H=document.createElement("div");H.id="stats";H.addEventListener("mousedown",function(a){a.preventDefault();b(++u%2)},!1);H.style.cssText="width:80px;opacity:0.9;cursor:pointer";var L=document.createElement("div");L.id="fps";L.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002";H.appendChild(L);var E=document.createElement("div");E.id="fpsText";E.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px";E.innerHTML="FPS";L.appendChild(E);var K=document.createElement("div");K.id="fpsGraph";K.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff";for(L.appendChild(K);74>K.children.length;){var D=document.createElement("span");D.style.cssText="width:1px;height:30px;float:left;background-color:#113";K.appendChild(D)}var J=document.createElement("div");J.id="ms";J.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none";H.appendChild(J);var C=document.createElement("div");C.id="msText";C.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px";C.innerHTML="MS";J.appendChild(C);var I=document.createElement("div");I.id="msGraph";I.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0";for(J.appendChild(I);74>I.children.length;){D=document.createElement("span"),D.style.cssText="width:1px;height:30px;float:left;background-color:#131",I.appendChild(D)}var b=function(a){u=a;switch(u){case 0:L.style.display="block";J.style.display="none";break;case 1:L.style.display="none",J.style.display="block"}};return{domElement:H,setMode:b,begin:function(){B=Date.now()},end:function(){var c=Date.now();G=c-B;z=Math.min(z,G);y=Math.max(y,G);C.textContent=G+" MS ("+z+"-"+y+")";var d=Math.min(30,30-30*(G/200));I.appendChild(I.firstChild).style.height=d+"px";v++;c>A+1000&&(F=Math.round(1000*v/(c-A)),x=Math.min(x,F),w=Math.max(w,F),E.textContent=F+" FPS ("+x+"-"+w+")",d=Math.min(30,30-30*(F/100)),K.appendChild(K.firstChild).style.height=d+"px",A=c,v=0);return c},update:function(){B=this.end()}}};